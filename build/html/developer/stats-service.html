

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Statistics Service &mdash; buildbot-translate 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> buildbot-translate
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">1. Buildbot Tutorial</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">buildbot-translate</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Statistics Service</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/developer/stats-service.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="statistics-service">
<span id="stats-service"></span><h1>Statistics Service<a class="headerlink" href="#statistics-service" title="Permalink to this headline">¶</a></h1>
<p>The statistic service (or stats service) is implemented in <code class="xref py py-mod docutils literal notranslate"><span class="pre">buildbot.statistics.stats_service</span></code>.
Please see <a href="#id1"><span class="problematic" id="id2">:bb:cfg:`stats-service`</span></a> for more information.</p>
<p>Here is a diagram demonstrating the working of the stats service:</p>
<img alt="../_images/stats-service.png" src="../_images/stats-service.png" />
<div class="section" id="id3">
<h2>Stats Service<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="buildbot.statistics.stats_service.StatsService">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.statistics.stats_service.</code><code class="sig-name descname">StatsService</code><a class="headerlink" href="#buildbot.statistics.stats_service.StatsService" title="Permalink to this definition">¶</a></dt>
<dd><p>An instance of this class functions as a <code class="xref py py-class docutils literal notranslate"><span class="pre">BuildbotService</span></code>.
The instance of the running service is initialized in the master configuration file (see <a href="#id4"><span class="problematic" id="id5">:bb:cfg:`stats-service`</span></a> for more information).
The running service is accessible everywhere in Buildbot via the <code class="xref py py-class docutils literal notranslate"><span class="pre">BuildMaster</span></code>.
The service is available at <code class="docutils literal notranslate"><span class="pre">self.master.namedServices['&lt;service-name&gt;']</span></code>.
It takes the following initialization arguments:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">storage_backends</span></code></dt><dd><p>A list of storage backends.
These are instance of subclasses of <code class="xref py py-class docutils literal notranslate"><span class="pre">StatsStorageBase</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">name</span></code></dt><dd><p>(str) The name of this service.
This name can be used to access the running instance of this service using <code class="docutils literal notranslate"><span class="pre">self.master.namedServices[name]</span></code>.</p>
</dd>
</dl>
<p>Please see <a href="#id6"><span class="problematic" id="id7">:bb:cfg:`stats-service`</span></a> for examples.</p>
<dl class="method">
<dt id="buildbot.statistics.stats_service.StatsService.checkConfig">
<code class="sig-name descname">checkConfig</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">storage_backends</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.stats_service.StatsService.checkConfig" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">storage_backends</span></code></dt><dd><p>A list of storage backends.</p>
</dd>
</dl>
<p>This method is called automatically to verify that the list of storage backends contains instances of subclasses of <code class="xref py py-class docutils literal notranslate"><span class="pre">StatsStorageBase</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.statistics.stats_service.StatsService.reconfigService">
<code class="sig-name descname">reconfigService</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">storage_backends</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.stats_service.StatsService.reconfigService" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">storage_backends</span></code></dt><dd><p>A list of storage backends.</p>
</dd>
</dl>
<p>This method is called automatically to reconfigure the running service.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.statistics.stats_service.StatsService.registerConsumers">
<code class="sig-name descname">registerConsumers</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.stats_service.StatsService.registerConsumers" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal method for this class called to register all consumers (methods from Capture classes) to the MQ layer.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.statistics.stats_service.StatsService.stopService">
<code class="sig-name descname">stopService</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.stats_service.StatsService.stopService" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal method for this class to stop the stats service and clean up.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.statistics.stats_service.StatsService.removeConsumers">
<code class="sig-name descname">removeConsumers</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.stats_service.StatsService.removeConsumers" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal method for this class to stop and remove consumers from the MQ layer.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.statistics.stats_service.StatsService.yieldMetricsValue">
<code class="sig-name descname">yieldMetricsValue</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">data_name</em>, <em class="sig-param">post_data</em>, <em class="sig-param">buildid</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.stats_service.StatsService.yieldMetricsValue" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">data_name</span></code></dt><dd><p>(str) The name of the data being sent or storage.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">post_data</span></code></dt><dd><p>A dictionary of key value pair that is sent for storage.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">buildid</span></code></dt><dd><p>The integer build id of the current build.
Obtainable in all <code class="docutils literal notranslate"><span class="pre">BuildSteps</span></code>.</p>
</dd>
</dl>
<p>This method should be called to post data that is not generated and stored as build-data in the database.
This method generates the <code class="docutils literal notranslate"><span class="pre">stats-yield-data</span></code> event to the mq layer which is then consumed in <code class="xref py py-class docutils literal notranslate"><span class="pre">postData</span></code>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="storage-backends">
<span id="storage-backend"></span><h2>Storage backends<a class="headerlink" href="#storage-backends" title="Permalink to this headline">¶</a></h2>
<p>Storage backends are responsible for storing any statistics/data sent to them.
A storage backend will generally be some sort of a database-server running on a machine.
.. note:: This machine may be different from the one running <code class="xref py py-class docutils literal notranslate"><span class="pre">BuildMaster</span></code></p>
<p>Data is captured according to the master config file and then, is sent to each of the storage backends provided by the master configuration (see <a href="#id8"><span class="problematic" id="id9">:bb:cfg:`stats-service`</span></a>).</p>
<p>Each storage backend has a Python client defined as part of <code class="xref py py-mod docutils literal notranslate"><span class="pre">buildbot.statistics.storage_backends</span></code> to aid in posting data by <code class="xref py py-class docutils literal notranslate"><span class="pre">StatsService</span></code>.</p>
<p>Currently, only <a class="reference external" href="https://influxdata.com/time-series-platform/influxdb/">InfluxDB</a> is supported as a storage backend.</p>
<dl class="class">
<dt id="buildbot.statistis.storage_backends.base.StatsStorageBase">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.statistis.storage_backends.base.</code><code class="sig-name descname">StatsStorageBase</code><a class="headerlink" href="#buildbot.statistis.storage_backends.base.StatsStorageBase" title="Permalink to this definition">¶</a></dt>
<dd><p>A abstract class for all storage services.
It cannot be directly initialized - it would raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> otherwise.</p>
<dl class="method">
<dt id="buildbot.statistis.storage_backends.base.StatsStorageBase.thd_postStatsValue">
<code class="sig-name descname">thd_postStatsValue</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">post_data</em>, <em class="sig-param">series_name</em>, <em class="sig-param">context</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistis.storage_backends.base.StatsStorageBase.thd_postStatsValue" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">post_data</span></code></dt><dd><p>A dict of key-value pairs that is sent for storage.
The keys of this dict can be thought of as columns in a database and the value is the data stored for that column.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">series_name</span></code></dt><dd><p>(str) The name of the time-series for this statistic.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">context</span></code></dt><dd><p>(Optional) Any other contextual information about the data.
It is a dict of key-value pairs.</p>
</dd>
</dl>
<p>An abstract method that needs to be implemented by every child class of this class.
Not doing so will result result in a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> when starting Buildbot.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.storage_backends.influxdb_client.InfluxStorageService">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.statistics.storage_backends.influxdb_client.</code><code class="sig-name descname">InfluxStorageService</code><a class="headerlink" href="#buildbot.statistics.storage_backends.influxdb_client.InfluxStorageService" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://influxdata.com/time-series-platform/influxdb/">InfluxDB</a> is a distributed, time series database that employs a key-value pair storage system.</p>
<p>This class is a Buildbot client to the InfluxDB storage backend.
It is available in the configuration as <code class="docutils literal notranslate"><span class="pre">statistics.InfluxStorageService</span></code>.
It takes the following initialization arguments:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">url</span></code></dt><dd><p>(str) The URL where the service is running.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">port</span></code></dt><dd><p>(int) The port on which the service is listening.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">user</span></code></dt><dd><p>(str) Username of a InfluxDB user.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">password</span></code></dt><dd><p>(str) Password for <code class="docutils literal notranslate"><span class="pre">user</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">db</span></code></dt><dd><p>(str) The name of database to be used.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">captures</span></code></dt><dd><p>A list of instances of subclasses of <code class="xref py py-class docutils literal notranslate"><span class="pre">Capture</span></code>.
This tells which stats are to be stored in this storage backend.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">name=None</span></code></dt><dd><p>(Optional) (str) The name of this storage backend.</p>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.storage_backends.influxdb_client.InfluxStorageService.thd_postStatsValue">
<code class="sig-name descname">thd_postStatsValue</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">post_data</em>, <em class="sig-param">series_name</em>, <em class="sig-param">context={}</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.storage_backends.influxdb_client.InfluxStorageService.thd_postStatsValue" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">post_data</span></code></dt><dd><p>A dict of key-value pairs that is sent for storage.
The keys of this dict can be thought of as columns in a database and the value is the data stored for that column.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">series_name</span></code></dt><dd><p>(str) The name of the time-series for this statistic.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">context</span></code></dt><dd><p>(Optional) Any other contextual information about the data.
It is a dict of key-value pairs.</p>
</dd>
</dl>
<p>This method constructs a dictionary of data to be sent to InfluxDB in the proper format and sends the data to the influxDB instance.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="capture-classes">
<h2>Capture Classes<a class="headerlink" href="#capture-classes" title="Permalink to this headline">¶</a></h2>
<p>Capture classes are used for declaring which data needs to captured and sent to storage backends for storage.</p>
<dl class="class">
<dt id="buildbot.statistics.capture.Capture">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.statistics.capture.</code><code class="sig-name descname">Capture</code><a class="headerlink" href="#buildbot.statistics.capture.Capture" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the abstract base class for all capture classes.
Not to be used directly.
Initlized with the following parameters:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">routingKey</span></code></dt><dd><p>(tuple) The routing key to be used by <code class="xref py py-class docutils literal notranslate"><span class="pre">StatsService</span></code> to register consumers to the MQ layer for the subclass of this class.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">callback</span></code></dt><dd><p>The callback registered with the MQ layer for the consumer of a subclass of this class.
Each subclass must provide a default callback for this purpose.</p>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">_defaultContext(self, msg):</code></dt>
<dd><p>A method for providing default context to the storage backends.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">consume(self, routingKey, msg):</code></dt>
<dd><p>This is an abstract method - each subclass of this class should implement its own consume method.
If not, then the subclass can’t be instantiated.
The consume method, when called (from the mq layer), receives the following arguments:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">routingKey</span></code></dt><dd><p>The routing key which was registered to the MQ layer.
Same as the <code class="docutils literal notranslate"><span class="pre">routingKey</span></code> provided to instantiate this class.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">msg</span></code></dt><dd><p>The message that was sent by the producer.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_store(self, post_data, series_name, context):</code></dt>
<dd><p>This is an abstract method of this class.
It must be implemented by all subclasses of this class.
It takes the following arguments:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">post_data</span></code></dt><dd><p>(dict) The key-value pair being sent to the storage backend.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">series_name</span></code></dt><dd><p>(str) The name of the series to which this data is stored.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">context</span></code></dt><dd><p>(dict) Any additional information pertaining to data being sent.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CapturePropertyBase">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.statistics.capture.</code><code class="sig-name descname">CapturePropertyBase</code><a class="headerlink" href="#buildbot.statistics.capture.CapturePropertyBase" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a base class for both <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureProperty</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">CapturePropertyAllBuilders</span></code> and abstracts away much of the common functionality between the two classes.
Cannot be initialized directly as it contains an abstract method and raises <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> if tried.
It is initialized with the following arguments:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">property_name</span></code></dt><dd><p>(str) The name of property needed to be recorded as a statistic.
This can be a regular expression if <code class="docutils literal notranslate"><span class="pre">regex=True</span></code> (see below).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">callback=None</span></code></dt><dd><p>The callback function that is used by <code class="docutils literal notranslate"><span class="pre">CaptureProperty.consumer</span></code> to post-process data before formatting it and sending it to the appropriate storage backends.
A default callback needs to be prois provided for this.</p>
<p>The default callback:</p>
<blockquote>
<div><dl class="function">
<dt id="buildbot.statistics.capture.CapturePropertyBase.default_callback">
<code class="sig-name descname">default_callback</code><span class="sig-paren">(</span><em class="sig-param">props</em>, <em class="sig-param">property_name</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CapturePropertyBase.default_callback" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>It returns property value for <code class="docutils literal notranslate"><span class="pre">property_name</span></code>.
It receives the following arguments:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">props</span></code></dt><dd><p>A dictionary of all build properties.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">property_name</span></code></dt><dd><p>(str) Name of the build property to return.</p>
</dd>
</dl>
</div></blockquote>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">regex=False</span></code></dt><dd><p>If this is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, then the property name can be a regular expression.
All properties matching this regular expression will be sent for storage.</p>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CapturePropertyBase.consume">
<code class="sig-name descname">consume</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">routingKey</em>, <em class="sig-param">msg</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CapturePropertyBase.consume" title="Permalink to this definition">¶</a></dt>
<dd><p>The consumer for all CaptureProperty classes described below.
This method filters out the correct properties as per the configuration file and sends those properties for storage.
The subclasses of this method do not need to implement this method as it takes care of all the functionality itself.
See <code class="xref py py-class docutils literal notranslate"><span class="pre">Capture</span></code> for more information.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_builder_name_matches(self, builder_info):</code></dt>
<dd><p>This is an abstract method and needs to be implemented by all subclasses of this class.
This is a helper method to the <code class="docutils literal notranslate"><span class="pre">consume</span></code> method mentioned above.
It checks whether a builder is allowed to send properties to the storage backend according to the configuration file.
It takes one argument:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">builder_info</span></code></dt><dd><p>(dict) The dictionary returned by the data API containing the builder information.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureProperty">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.statistics.capture.</code><code class="sig-name descname">CaptureProperty</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>The capture class for capturing build properties.
It is available in the configuration as <code class="docutils literal notranslate"><span class="pre">statistics.CaptureProperty</span></code></p>
<p>It takes the following arguments:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">builder_name</span></code></dt><dd><p>(str) The name of builder in which the property is recorded.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">property_name</span></code></dt><dd><p>(str) The name of property needed to be recorded as a statistic.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">callback=None</span></code></dt><dd><p>The callback function that is used by <code class="docutils literal notranslate"><span class="pre">CaptureProperty.consumer</span></code> to post-process data before formatting it and sending it to the appropriate storage backends.
A default callback is provided for this (see <code class="xref py py-class docutils literal notranslate"><span class="pre">CapturePropertyBase</span></code> for more information).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">regex=False</span></code></dt><dd><p>If this is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, then the property name can be a regular expression.
All properties matching this regular expression will be sent for storage.</p>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureProperty._builder_name_matches">
<code class="sig-name descname">_builder_name_matches</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureProperty._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-class docutils literal notranslate"><span class="pre">CapturePropertyBase</span></code> for more information on this method.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CapturePropertyAllBuilders">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.statistics.capture.</code><code class="sig-name descname">CapturePropertyAllBuilders</code><a class="headerlink" href="#buildbot.statistics.capture.CapturePropertyAllBuilders" title="Permalink to this definition">¶</a></dt>
<dd><p>The capture class to use for capturing build properties on all builders.
It is available in the configuration as <code class="docutils literal notranslate"><span class="pre">statistics.CaptureProperty</span></code></p>
<p>It takes the following arguments:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">property_name</span></code></dt><dd><p>(str) The name of property needed to be recorded as a statistic.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">callback=None</span></code></dt><dd><p>The callback function that is used by <code class="docutils literal notranslate"><span class="pre">CaptureProperty.consumer</span></code> to post-process data before formatting it and sending it to the appropriate storage backends.
A default callback is provided for this (see <code class="xref py py-class docutils literal notranslate"><span class="pre">CapturePropertyBase</span></code> for more information).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">regex=False</span></code></dt><dd><p>If this is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, then the property name can be a regular expression.
All properties matching this regular expression will be sent for storage.</p>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CapturePropertyAllBuilders._builder_name_matches">
<code class="sig-name descname">_builder_name_matches</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CapturePropertyAllBuilders._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-class docutils literal notranslate"><span class="pre">CapturePropertyBase</span></code> for more information on this method.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureBuildTimes">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.statistics.capture.</code><code class="sig-name descname">CaptureBuildTimes</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildTimes" title="Permalink to this definition">¶</a></dt>
<dd><p>A base class for all Capture classes that deal with build times (start/end/duration).
Not to be used directly.
Initialized with:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">builder_name</span></code></dt><dd><p>(str) The name of builder whose times are to be recorded.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">callback</span></code></dt><dd><p>The callback function that is used by subclass of this class to post-process data before formatting it and sending it to the appropriate storage backends.
A default callback is provided for this.
Each subclass must provide a default callback that is used in initialization of this class should the user not provide a callback.</p>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildTimes.consume">
<code class="sig-name descname">consume</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">routingKey</em>, <em class="sig-param">msg</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildTimes.consume" title="Permalink to this definition">¶</a></dt>
<dd><p>The consumer for all subclasses of this class.
See <code class="xref py py-class docutils literal notranslate"><span class="pre">Capture</span></code> for more information.
.. note:: This consumer requires all subclasses to implement:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">self._time_type</span></code> (property)</dt><dd><p>A string used as a key in <code class="docutils literal notranslate"><span class="pre">post_data</span></code> sent to storage services.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">self._retValParams(msg)</span></code> (method)</dt><dd><p>A method that takes in the <code class="docutils literal notranslate"><span class="pre">msg</span></code> this consumer gets and returns a list of arguments for the capture callback.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildTimes._retValParams">
<code class="sig-name descname">_retValParams</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">msg</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildTimes._retValParams" title="Permalink to this definition">¶</a></dt>
<dd><p>This is an abstract method which needs to be implemented by subclasses.
This method needs to return a list of parameters that will be passed to the <code class="docutils literal notranslate"><span class="pre">callback</span></code> function.
See individual build <code class="docutils literal notranslate"><span class="pre">CaptureBuild*</span></code> classes for more information.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildTimes._err_msg">
<code class="sig-name descname">_err_msg</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">build_data</em>, <em class="sig-param">builder_name</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildTimes._err_msg" title="Permalink to this definition">¶</a></dt>
<dd><p>A helper method that returns an error message for the <code class="docutils literal notranslate"><span class="pre">consume</span></code> method.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildTimes._builder_name_matches">
<code class="sig-name descname">_builder_name_matches</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildTimes._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>This is an abstract method and needs to be implemented by all subclasses of this class.
This is a helper method to the <code class="docutils literal notranslate"><span class="pre">consume</span></code> method mentioned above.
It checks whether a builder is allowed to send build times to the storage backend according to the configuration file.
It takes one argument:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">builder_info</span></code></dt><dd><p>(dict) The dictionary returned by the data API containing the builder information.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureBuildStartTime">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.statistics.capture.</code><code class="sig-name descname">CaptureBuildStartTime</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildStartTime" title="Permalink to this definition">¶</a></dt>
<dd><p>A capture class for capturing build start times.
It takes the following arguments:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">builder_name</span></code></dt><dd><p>(str) The name of builder whose times are to be recorded.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">callback=None</span></code></dt><dd><p>The callback function for this class.
See <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureBuildTimes</span></code> for more information.</p>
<p>The default callback:</p>
<blockquote>
<div><dl class="function">
<dt id="buildbot.statistics.capture.CaptureBuildStartTime.default_callback">
<code class="sig-name descname">default_callback</code><span class="sig-paren">(</span><em class="sig-param">start_time</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildStartTime.default_callback" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>It returns the start time in ISO format.
It takes one argument:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">start_time</span></code></dt><dd><p>A python datetime object that denotes the build start time.</p>
</dd>
</dl>
</div></blockquote>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildStartTime._retValParams">
<code class="sig-name descname">_retValParams</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">msg</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildStartTime._retValParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list containing one Python datetime object (start time) from <code class="docutils literal notranslate"><span class="pre">msg</span></code> dictionary.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildStartTime._builder_name_matches">
<code class="sig-name descname">_builder_name_matches</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildStartTime._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureBuildTimes</span></code> for more information on this method.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureBuildStartTimeAllBuilders">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.statistics.capture.</code><code class="sig-name descname">CaptureBuildStartTimeAllBuilders</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildStartTimeAllBuilders" title="Permalink to this definition">¶</a></dt>
<dd><p>A capture class for capturing build start times from all builders.
It is a subclass of <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureBuildStartTime</span></code>.
It takes the following arguments:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">callback=None</span></code></dt><dd><p>The callback function for this class.
See <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureBuildTimes</span></code> for more information.</p>
<p>The default callback:</p>
<blockquote>
<div><p>See <code class="docutils literal notranslate"><span class="pre">CaptureBuildStartTime.__init__</span></code> for the definition.</p>
</div></blockquote>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildStartTimeAllBuilders._builder_name_matches">
<code class="sig-name descname">_builder_name_matches</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildStartTimeAllBuilders._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureBuildTimes</span></code> for more information on this method.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureBuildEndTime">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.statistics.capture.</code><code class="sig-name descname">CaptureBuildEndTime</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildEndTime" title="Permalink to this definition">¶</a></dt>
<dd><p>A capture class for capturing build end times.
Takes the following arguments:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">builder_name</span></code></dt><dd><p>(str) The name of builder whose times are to be recorded.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">callback=None</span></code></dt><dd><p>The callback function for this class.
See <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureBuildTimes</span></code> for more information.</p>
<p>The default callback:</p>
<blockquote>
<div><dl class="function">
<dt id="buildbot.statistics.capture.CaptureBuildEndTime.default_callback">
<code class="sig-name descname">default_callback</code><span class="sig-paren">(</span><em class="sig-param">end_time</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildEndTime.default_callback" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>It returns the end time in ISO format.
It takes one argument:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">end_time</span></code></dt><dd><p>A python datetime object that denotes the build end time.</p>
</dd>
</dl>
</div></blockquote>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildEndTime._retValParams">
<code class="sig-name descname">_retValParams</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">msg</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildEndTime._retValParams" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Returns a list containing two Python datetime object (start time and end time) from <code class="docutils literal notranslate"><span class="pre">msg</span></code> dictionary.</p>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildEndTime._builder_name_matches">
<code class="sig-name descname">_builder_name_matches</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildEndTime._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureBuildTimes</span></code> for more information on this method.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureBuildEndTimeAllBuilders">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.statistics.capture.</code><code class="sig-name descname">CaptureBuildEndTimeAllBuilders</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildEndTimeAllBuilders" title="Permalink to this definition">¶</a></dt>
<dd><p>A capture class for capturing build end times from all builders.
It is a subclass of <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureBuildEndTime</span></code>.
It takes the following arguments:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">callback=None</span></code></dt><dd><p>The callback function for this class.
See <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureBuildTimes</span></code> for more information.</p>
<p>The default callback:</p>
<blockquote>
<div><p>See <code class="docutils literal notranslate"><span class="pre">CaptureBuildEndTime.__init__</span></code> for the definition.</p>
</div></blockquote>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildEndTimeAllBuilders._builder_name_matches">
<code class="sig-name descname">_builder_name_matches</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildEndTimeAllBuilders._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureBuildTimes</span></code> for more information on this method.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureBuildDuration">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.statistics.capture.</code><code class="sig-name descname">CaptureBuildDuration</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildDuration" title="Permalink to this definition">¶</a></dt>
<dd><p>A capture class for capturing build duration.
Takes the following arguments:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">builder_name</span></code></dt><dd><p>(str) The name of builder whose times are to be recorded.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">report_in='seconds'</span></code></dt><dd><p>Can be one of three: <code class="docutils literal notranslate"><span class="pre">'seconds'</span></code>, <code class="docutils literal notranslate"><span class="pre">'minutes'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'hours'</span></code>.
This is the units in which the build time will be reported.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">callback=None</span></code></dt><dd><p>The callback function for this class.
See <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureBuildTimes</span></code> for more information.</p>
<p>The default callback:</p>
<blockquote>
<div><dl class="function">
<dt id="buildbot.statistics.capture.CaptureBuildDuration.default_callback">
<code class="sig-name descname">default_callback</code><span class="sig-paren">(</span><em class="sig-param">start_time</em>, <em class="sig-param">end_time</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildDuration.default_callback" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>It returns the duration of the build as per the <code class="docutils literal notranslate"><span class="pre">report_in</span></code> argument.
It receives the following arguments:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">start_time</span></code></dt><dd><p>A python datetime object that denotes the build start time.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">end_time</span></code></dt><dd><p>A python datetime object that denotes the build end time.</p>
</dd>
</dl>
</div></blockquote>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildDuration._retValParams">
<code class="sig-name descname">_retValParams</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">msg</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildDuration._retValParams" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Returns a list containing one Python datetime object (end time) from <code class="docutils literal notranslate"><span class="pre">msg</span></code> dictionary.</p>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildDuration._builder_name_matches">
<code class="sig-name descname">_builder_name_matches</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildDuration._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureBuildTimes</span></code> for more information on this method.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureBuildDurationAllBuilders">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.statistics.capture.</code><code class="sig-name descname">CaptureBuildDurationAllBuilders</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildDurationAllBuilders" title="Permalink to this definition">¶</a></dt>
<dd><p>A capture class for capturing build durations from all builders.
It is a subclass of <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureBuildDuration</span></code>.
It takes the following arguments:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">callback=None</span></code></dt><dd><p>The callback function for this class.
See <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureBuildTimes</span></code> for more.</p>
<p>The default callback:</p>
<blockquote>
<div><p>See <code class="docutils literal notranslate"><span class="pre">CaptureBuildDuration.__init__</span></code> for the definition.</p>
</div></blockquote>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildDurationAllBuilders._builder_name_matches">
<code class="sig-name descname">_builder_name_matches</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildDurationAllBuilders._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureBuildTimes</span></code> for more information on this method.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureDataBase">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.statistics.capture.</code><code class="sig-name descname">CaptureDataBase</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureDataBase" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a base class for both <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureData</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureDataAllBuilders</span></code> and abstracts away much of the common functionality between the two classes.
Cannot be initialized directly as it contains an abstract method and raises <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> if tried.
It is initialized with the following arguments:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">data_name</span></code></dt><dd><p>(str) The name of data to be captured.
Same as in <code class="xref py py-meth docutils literal notranslate"><span class="pre">yieldMetricsValue()</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">callback=None</span></code></dt><dd><p>The callback function for this class.</p>
<p>The default callback:</p>
<blockquote>
<div><p>The default callback takes a value <code class="docutils literal notranslate"><span class="pre">x</span></code> and return it without changing.
As such, <code class="docutils literal notranslate"><span class="pre">x</span></code> itself acts as the <code class="docutils literal notranslate"><span class="pre">post_data</span></code> sent to the storage backends.</p>
</div></blockquote>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureDataBase.consume">
<code class="sig-name descname">consume</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">routingKey</em>, <em class="sig-param">msg</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureDataBase.consume" title="Permalink to this definition">¶</a></dt>
<dd><p>The consumer for this class.
See <code class="xref py py-class docutils literal notranslate"><span class="pre">Capture</span></code> for more.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.statistics.capture.CaptureDataBase._builder_name_matches">
<code class="sig-name descname">_builder_name_matches</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureDataBase._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>This is an abstract method and needs to be implemented by all subclasses of this class.
This is a helper method to the <code class="docutils literal notranslate"><span class="pre">consume</span></code> method mentioned above.
It checks whether a builder is allowed to send properties to the storage backend according to the configuration file.
It takes one argument:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">builder_info</span></code></dt><dd><p>(dict) The dictionary returned by the data API containing the builder information.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureData">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.statistics.capture.</code><code class="sig-name descname">CaptureData</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureData" title="Permalink to this definition">¶</a></dt>
<dd><p>A capture class for capturing arbitrary data that is not stored as build-data.
See <code class="xref py py-meth docutils literal notranslate"><span class="pre">yieldMetricsValue()</span></code> for more.
Takes the following arguments for initialization:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">data_name</span></code></dt><dd><p>(str) The name of data to be captured.
Same as in <code class="xref py py-meth docutils literal notranslate"><span class="pre">yieldMetricsValue()</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">builder_name</span></code></dt><dd><p>(str) The name of the builder on which the data is captured.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">callback=None</span></code></dt><dd><p>The callback function for this class.</p>
<p>The default callback:</p>
<blockquote>
<div><p>See <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureDataBase</span></code> of definition.</p>
</div></blockquote>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureData._builder_name_matches">
<code class="sig-name descname">_builder_name_matches</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureData._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureDataBase</span></code> for more information on this method.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureDataAllBuilders">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.statistics.capture.</code><code class="sig-name descname">CaptureDataAllBuilders</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureDataAllBuilders" title="Permalink to this definition">¶</a></dt>
<dd><p>A capture class to capture arbitrary data on all builders.
See <code class="xref py py-meth docutils literal notranslate"><span class="pre">yieldMetricsValue()</span></code> for more.
It takes the following arguments:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">data_name</span></code></dt><dd><p>(str) The name of data to be captured.
Same as in <code class="xref py py-meth docutils literal notranslate"><span class="pre">yieldMetricsValue()</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">callback=None</span></code></dt><dd><p>The callback function for this class.</p>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureDataAllBuilders._builder_name_matches">
<code class="sig-name descname">_builder_name_matches</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureDataAllBuilders._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureDataBase</span></code> for more information on this method.</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, junpengxu

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>