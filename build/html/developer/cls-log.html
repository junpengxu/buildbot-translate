

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Logs &mdash; buildbot-translate 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> buildbot-translate
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">1. Buildbot Tutorial</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">buildbot-translate</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Logs</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/developer/cls-log.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-buildbot.process.log">
<span id="logs"></span><h1>Logs<a class="headerlink" href="#module-buildbot.process.log" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="buildbot.process.log.Log">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.process.log.</code><code class="sig-name descname">Log</code><a class="headerlink" href="#buildbot.process.log.Log" title="Permalink to this definition">¶</a></dt>
<dd><p>This class handles write-only access to log files from running build steps.
It does not provide an interface for reading logs - such access should occur directly through the Data API.</p>
<p>Instances of this class can only be created by the <a class="reference internal" href="cls-buildsteps.html#buildbot.process.buildstep.BuildStep.addLog" title="buildbot.process.buildstep.BuildStep.addLog"><code class="xref py py-meth docutils literal notranslate"><span class="pre">addLog()</span></code></a> method of a build step.</p>
<dl class="attribute">
<dt id="buildbot.process.log.Log.name">
<code class="sig-name descname">name</code><a class="headerlink" href="#buildbot.process.log.Log.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the log.</p>
<p>Note that if you have a build step which outputs multiple logs, naming one of the logs <code class="docutils literal notranslate"><span class="pre">Summary</span></code> will cause  the Web UI to sort the summary log first in the list, and expand it so that the contents are immediately visible.</p>
</dd></dl>

<dl class="attribute">
<dt id="buildbot.process.log.Log.type">
<code class="sig-name descname">type</code><a class="headerlink" href="#buildbot.process.log.Log.type" title="Permalink to this definition">¶</a></dt>
<dd><p>The type of the log, represented as a single character.
See <a href="#id1"><span class="problematic" id="id2">:bb:rtype:`logchunk`</span></a> for details.</p>
</dd></dl>

<dl class="attribute">
<dt id="buildbot.process.log.Log.logid">
<code class="sig-name descname">logid</code><a class="headerlink" href="#buildbot.process.log.Log.logid" title="Permalink to this definition">¶</a></dt>
<dd><p>The ID of the logfile.</p>
</dd></dl>

<dl class="attribute">
<dt id="buildbot.process.log.Log.decoder">
<code class="sig-name descname">decoder</code><a class="headerlink" href="#buildbot.process.log.Log.decoder" title="Permalink to this definition">¶</a></dt>
<dd><p>A callable used to decode bytestrings.
See <a href="#id3"><span class="problematic" id="id4">:bb:cfg:`logEncoding`</span></a>.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.process.log.Log.subscribe">
<code class="sig-name descname">subscribe</code><span class="sig-paren">(</span><em class="sig-param">receiver</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.process.log.Log.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>receiver</strong> (<em>callable</em>) – the function to call</p>
</dd>
</dl>
<p>Register <code class="docutils literal notranslate"><span class="pre">receiver</span></code> to be called with line-delimited chunks of log data.
The callable is invoked as <code class="docutils literal notranslate"><span class="pre">receiver(stream,</span> <span class="pre">chunk)</span></code>, where the stream is indicated by a single character, or None for logs without streams.
The chunk is a single string containing an arbitrary number of log lines, and terminated with a newline.
When the logfile is finished, <code class="docutils literal notranslate"><span class="pre">receiver</span></code> will be invoked with <code class="docutils literal notranslate"><span class="pre">None</span></code> for both arguments.</p>
<p>The callable cannot return a Deferred.
If it must perform some asynchronous operation, it will need to handle its own Deferreds, and be aware that multiple overlapping calls may occur.</p>
<p>Note that no “rewinding” takes place: only log content added after the call to <code class="docutils literal notranslate"><span class="pre">subscribe</span></code> will be supplied to <code class="docutils literal notranslate"><span class="pre">receiver</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.process.log.Log.finish">
<code class="sig-name descname">finish</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.process.log.Log.finish" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Deferred</p>
</dd>
</dl>
<p>This method indicates that the logfile is finished.
No further additions will be permitted.</p>
</dd></dl>

</dd></dl>

<p>In use, callers will receive a subclass with methods appropriate for the log type:</p>
<dl class="class">
<dt id="buildbot.process.log.TextLog">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.process.log.</code><code class="sig-name descname">TextLog</code><a class="headerlink" href="#buildbot.process.log.TextLog" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt>
<code class="sig-name descname">addContent(text):</code></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> – log content</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Deferred</p>
</dd>
</dl>
<p>Add the given data to the log.
The data need not end on a newline boundary.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.process.log.HTMLLog">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.process.log.</code><code class="sig-name descname">HTMLLog</code><a class="headerlink" href="#buildbot.process.log.HTMLLog" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt>
<code class="sig-name descname">addContent(text):</code></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> – log content</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Deferred</p>
</dd>
</dl>
<p>Same as <code class="xref py py-meth docutils literal notranslate"><span class="pre">TextLog.addContent()</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.process.log.StreamLog">
<em class="property">class </em><code class="sig-prename descclassname">buildbot.process.log.</code><code class="sig-name descname">StreamLog</code><a class="headerlink" href="#buildbot.process.log.StreamLog" title="Permalink to this definition">¶</a></dt>
<dd><p>This class handles logs containing three interleaved streams: stdout, stderr, and header.
The resulting log maintains data distinguishing these streams, so they can be filtered or displayed in different colors.
This class is used to represent the stdio log in most steps.</p>
<dl class="method">
<dt id="buildbot.process.log.StreamLog.addStdout">
<code class="sig-name descname">addStdout</code><span class="sig-paren">(</span><em class="sig-param">text</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.process.log.StreamLog.addStdout" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> – log content</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Deferred</p>
</dd>
</dl>
<p>Add content to the stdout stream.
The data need not end on a newline boundary.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.process.log.StreamLog.addStderr">
<code class="sig-name descname">addStderr</code><span class="sig-paren">(</span><em class="sig-param">text</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.process.log.StreamLog.addStderr" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> – log content</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Deferred</p>
</dd>
</dl>
<p>Add content to the stderr stream.
The data need not end on a newline boundary.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.process.log.StreamLog.addHeader">
<code class="sig-name descname">addHeader</code><span class="sig-paren">(</span><em class="sig-param">text</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.process.log.StreamLog.addHeader" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> – log content</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Deferred</p>
</dd>
</dl>
<p>Add content to the header stream.
The data need not end on a newline boundary.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, junpengxu

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>